<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="style.css">
  <title>Movie Quiz</title>
</head>
<body>
  <header></header>
  <main>
    <h1>Movie Quiz</h1>
    <form action="/Home/MovieRecommend">
      <div class="question active">
        <p>Which Genre do you like?</p>
        <input type="checkbox" name="genre" value="Action">Action<br>
        <input type="checkbox" name="genre" value="Comedy">Comedy<br>
        <input type="checkbox" name="genre" value="Drama">Drama<br>
        <input type="checkbox" name="genre" value="Horror">Horror<br>
        <input type="checkbox" name="genre" value="Romance">Romance<br>
      </div>
      <div class="question">
        <p>Which Genre's do you hate?</p>
        <input type="checkbox" name="hate-genre" value="Action">Action<br>
        <input type="checkbox" name="hate-genre" value="Comedy">Comedy<br>
        <input type="checkbox" name="hate-genre" value="Drama">Drama<br>
        <input type="checkbox" name="hate-genre" value="Horror">Horror<br>
        <input type="checkbox" name="hate-genre" value="Romance">Romance<br>
      </div>
      <div class="question">
        <p>What is Your Gender?</p>
        <input type="radio" name="gender" value="Male">Male<br>
        <input type="radio" name="gender" value="Female">Female<br>
        <input type="radio" name="gender" value="Other">Other<br>
      </div>
      <div class="question">
        <p>Age</p>
        <input type="text" name="age"><br><br>
      </div>
      <div class="question">
        <p>What is Your Requested Rating</p>
        <select name="rating">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select><br><br>
      </div>
      <button type="button" class="next-button">Next Question</button>
      <input type="submit" value="Finish Quiz" class="finish-quiz" style="display:none">
    </form>
  </main>
  <script>
const form = document.querySelector("form");
const checkboxes = document.querySelectorAll('input[type="checkbox"]');
const radioButtons = document.querySelectorAll("input[type='radio']");
const questions = form.querySelectorAll(".question");
let currentQuestionIndex = 0;

questions[currentQuestionIndex].classList.add("active");

const nextButton = document.querySelector(".next-button");
const finishButton = document.querySelector(".finish-quiz");

nextButton.addEventListener("click", (event) => {
  event.preventDefault(); // prevent the default form submission behavior
  questions[currentQuestionIndex].classList.remove("active");
  currentQuestionIndex += 1;
  if (currentQuestionIndex >= questions.length - 1) {
    nextButton.style.display = "none";
    finishButton.style.display = "block";
  }
  questions[currentQuestionIndex].classList.add("active");
  if (currentQuestionIndex === questions.length - 1) {
    nextButton.style.display = "none";
    finishButton.style.display = "block";
  }
  return false; // prevent the form from being submitted
});

// Check if the selected answer in the first question is also selected in the second question
form.addEventListener("change", (event) => {
  if (event.target.type === "checkbox") {
    checkboxes.forEach(checkbox => {
      if (checkbox.value === event.target.value && checkbox !== event.target) {
        checkbox.disabled = event.target.checked;
      }
    });
  }
});

</script>
</body>
</html>